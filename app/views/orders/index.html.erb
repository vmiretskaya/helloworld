<!--div class="product-list"-->
<h1>Listing orders</h1>

<!--Angular-->
<div ng-controller = "OrdersCtrl">
  
  <table class="table table-hover">
  <thead>
    <td>Order ID</td>
    <td>Product</td>
    <td>Color</td>
    <td>Total</td>
    
    <td></td>
  </thead>

  <tr>
  <form ng-submit="addOrder()">
    <td>
       <span ng-model="newOrder.id"> value="{{orders[orders.length - 1].id + 1 }}"  </span>
    </td>

    <td>
      <select ng-model="newOrder.product_id" class="form-control">
      <option ng-repeat="product in products" value="{{product.id}}">{{product.name}}</option>
      </select>
    </td>
    
    <td>
      <select ng-model="newOrder.color_id" class="form-control">
      <option ng-repeat="color in colors" value="{{color.id}}">{{color.hexcolor}}</option>
      </select>
    </td>

    <td>
      <input type="number" step="0.01" class="form-control" ng-model="newOrder.total">
    </td>

    <td>
      <input type="submit" value="+" class="btn btn-success">
    </td>
  </form>
  </tr>

  <tr ng-repeat="order in orders | orderBy:'-id':reverse">
    <td>
      {{order.id}}
    </td>
     <td>
      {{order.product.name}}
      <small ng-show="order.id"><br>-{{order.user.email}} </small>
    </td>
    <td>
      <strong>{{order.color.hexcolor}}</strong>
    </td>
    <td>
      <strong>{{order.total | currency}}</strong>
    </td>
    <td>
      <button ng-click="showOrder(order)" class="btn .btn-default btn-sm"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></button>
    </td>
    <td>
      <button ng-click="deleteOrder(order)" class="btn btn-danger btn-sm"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></button>
    </td>
  </tr>

  </table>
</div>


<!--/div-->